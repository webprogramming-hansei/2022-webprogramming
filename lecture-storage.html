<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <title>웹프로그래밍</title>
    <meta name="description" content="웹프로그래밍 강의 실습코드입니다." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="og:title" content="" />
    <meta property="og:type" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />

    <link rel="manifest" href="site.webmanifest" />
    <link rel="apple-touch-icon" href="icon.png" />
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/main.css" />

    <meta name="theme-color" content="#fafafa" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <!-- Add your site or application content here -->
    <h1>웹프로그래밍 강의</h1>
    <p>폼 컨트롤</p>
    <input id="inputText" type="text" placeholder="아이디 입력"/>
    <input id="inputPassword" type="password" placeholder="비밀번호 입력" />
    <div>약관에 동의하십니까? <input id="chkAgree" type="checkbox" /></div>
    <div>다음을 위해 ID 기억하기 <input id="chkRememberId" type="checkbox" /></div>
    <select id="selectCountry">
      <option value="ko">대한민국</option>
      <option value="us" selected>미국</option>
      <option value="uk">영국</option>
      <option value="jp">일본</option>
    </select>
    <input id="btnClick1" type="button" value="클릭1" />
    <button onclick="onBtnClick2()">클릭2</button>
    <button onclick="onRememberIdClick()">ID기억</button>

    <script src="js/vendor/modernizr-3.11.2.min.js"></script>
    <script src="js/plugins.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <script src="js/main.js"></script>

    <script>
      window.addEventListener("load", loadComplete);

      function loadComplete() {
        console.log("load complete");
        const rememberId = localStorage.getItem('id');
        // const rememberId = sessionStorage.getItem('id');

        // text input에 keydown 이벤트 달기
        const inputText = document.querySelector("#inputText");
        inputText.addEventListener("keydown", onInputKeydown);
        inputText.value = rememberId;

        // 클릭1버튼에 대한 클릭 이벤트 달기
        const btnClick1 = document.querySelector("#btnClick1");
        btnClick1.addEventListener("click", onBtnClick);
      }

      function onRememberIdClick() {
        const chkRememberId = document.querySelector("#chkRememberId");
        const inputId = document.querySelector("#inputText");
        if (chkRememberId.checked) {
            // sessionStorage.setItem("id", inputId.value);
            localStorage.setItem("id", inputId.value);
        } else {
            alert('ID기억하기에 체크하세요');
        }
      }

      function onInputKeydown(e) {
        // console.log("Key Down!!");
        // console.log(e.key);
        // console.log(e.keyCode);
      }

      function onBtnClick() {
        const elInputText = document.querySelector("#inputText");
        const elInputPassword = document.querySelector("#inputPassword");
        const elSelectCountry = document.querySelector("#selectCountry");
        const elChkAgree = document.querySelector("#chkAgree");
        const id = elInputText.value;
        const password = elInputPassword.value;
        const countryCode = elSelectCountry.value;
        const isAgree = elChkAgree.checked;

        if (id.length <= 0) {
          alert("ID를 입력해주세요.");
          return;
        }

        if (password.length < 8) {
          alert("비밀번호의 길이는 8자 이상이어야 합니다.");
          return;
        }

        if (!isAgree) {
          alert("반드시 약관에 동의해야 합니다.");
          return;
        }

        // 서버에 ID, PASSWORD 전달
        console.log(id, password, countryCode, isAgree);
      }

      function onBtnClick2() {
        const elInputText = document.querySelector("#inputText");
        elInputText.value = "";
      }
    </script>

    <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
    <script>
      window.ga = function () {
        ga.q.push(arguments);
      };
      ga.q = [];
      ga.l = +new Date();
      ga("create", "UA-XXXXX-Y", "auto");
      ga("set", "anonymizeIp", true);
      ga("set", "transport", "beacon");
      ga("send", "pageview");
    </script>
    <script src="https://www.google-analytics.com/analytics.js" async></script>
  </body>
</html>
